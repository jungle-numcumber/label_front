{"version":3,"file":"static/js/811.6c319cae.chunk.js","mappings":"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","sources":["webpack://label_front/./src/component/User/User.module.css?dfeb","component/User/User.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"User_main__LPwHA\",\"divText\":\"User_divText__n9fTs\",\"profile\":\"User_profile__SS9pn\",\"profileImg\":\"User_profileImg__noDlI\",\"profileInfo\":\"User_profileInfo__W8Bs1\",\"namep\":\"User_namep__Bmubl\",\"grassP\":\"User_grassP__y6P2e\",\"divHistory\":\"User_divHistory__FKAQT\",\"commitDate\":\"User_commitDate__uUpbN\",\"commitLi\":\"User_commitLi__8rjJZ\",\"commitp\":\"User_commitp__g-LCz\",\"lineImg\":\"User_lineImg__4Wz-E\",\"form\":\"User_form__vgnRy\",\"button\":\"User_button__PkkXx\",\"divTable\":\"User_divTable__rSRpU\",\"th\":\"User_th__h4oZt\",\"thead\":\"User_thead__Kbt5w\",\"tdCheck\":\"User_tdCheck__E5-N0\",\"tdTitle\":\"User_tdTitle__+qAOe\",\"td\":\"User_td__NZrC7\",\"graph\":\"User_graph__FI+lk\",\"squares\":\"User_squares__4pC+E\"};","import styles from './User.module.css'\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleOnHistory, toggleOffHistory, changeCommitInfo } from '../../store';\n\nexport default function User(){\n    let onOffHistory = useSelector((state) => {return state.onOffHistory});\n\n    return(\n        <main className={styles.main}>\n            <article>\n                <section>\n                    <div className={styles.divText}><h2>My Page</h2></div>\n                    <div className={styles.profile}>\n                        <UserProfile></UserProfile>\n                    </div>\n                    <div>\n                        <p className={styles.grassP}>My Daily History</p>\n                        <Grass></Grass>\n                    </div>\n                    { onOffHistory ? <div className={styles.divHistory}>\n                        <CommitShow></CommitShow>\n                    </div> : null}\n                </section>\n                <img className={styles.lineImg} src={process.env.PUBLIC_URL + `/images/line.png`}></img>\n                <section>\n                    <div className={styles.divText}><h2>My Library</h2></div>\n                    {/* <form className={styles.form}>\n                        <button className={styles.button}>삭제</button>\n                    </form> */}\n                    <div className={styles.divTable}>\n                        <table>\n                            <thead className={styles.thead}>\n                                <tr>\n                                    {/* <th><input type='checkbox'/></th> */}\n                                    <th className={styles.th}>Title</th>\n                                    <th className={styles.th}>Page</th>\n                                    <th className={styles.th}>Date</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <Tr></Tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </section>\n            </article>\n        </main>\n    )\n}\n\nconst UserProfile = ()=>{\n\n    const [result, setResult] = useState([]);\n\n    useEffect(()=>{\n        fetch(`https://inkyuoh.shop/userInfo`)\n        .then((res) => {\n            return res.json();\n        })\n        .then((res)=>{\n            setResult(res.result);\n            // console.log(res.result);\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    },[])\n\n    return(\n        <UserProfileShow result={result} length={result.length}></UserProfileShow>\n    )\n}\n\nconst UserProfileShow = (props)=>{\n    // console.log(props.result)\n    return(\n        <>\n            <img className={styles.profileImg} src={`${props.result[0]?.userPhoto}`}/>\n            <div className={styles.profileInfo}>\n                <p>My Profile</p>\n                <p className={styles.namep}>{props.result[0]?.userName}</p>\n                <p>{props.result[0]?.userEmail}</p>\n            </div>\n        </>\n    )\n}\n\nconst CommitShow = ()=>{\n\n    let commitInfo = useSelector((state) => state.commitInfo);\n    // console.log(commitInfo);\n\n    const rendering = ()=>{\n        const result = Array();\n\n        for (let i = 0; i < commitInfo.length; i++){\n            // console.log(commitInfo[i]);\n            result.push(\n                <ul>\n                    <li className={styles.commitLi}>{commitInfo[i].bookName}</li>\n                    <p className={styles.commitp}>{commitInfo[i].commitMessage}</p>\n                    <p className={styles.commitDate}>{commitInfo[i].createdAt}</p>\n                </ul>\n            )\n        }\n        return result;\n    }\n    return rendering()\n}\n\nconst Tr = ()=>{\n    const [result, setResult] = useState([]);\n\n    let userIdx = 58;\n\n    useEffect(()=>{\n        fetch(`https://inkyuoh.shop/users/${userIdx}/pdfs`)\n        .then(res=>{\n            return res.json()\n        })\n        .then(res=>{\n            setResult(res.result);\n            // console.log(res);\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    },[]);\n\n    return (\n        <BookList result={result} length={result.length}></BookList>\n    )\n}\n\nconst BookList = (props)=>{\n\n    const rendering = ()=>{\n        const result = Array();\n\n        for (let i = 0; i < props.result.length; i++){\n            result.push(\n                <tr>\n                    {/* <td className={styles.tdCheck}><input type='checkbox'/></td> */}\n                    <td className={styles.tdTitle}>{props.result[i].pdfName}</td>\n                    <td className={styles.td}>{props.result[i].recentlyReadPage} / {props.result[i].totalPage}</td>\n                    <td className={styles.td}>{props.result[i].updatedAt}</td>\n                </tr>\n            )\n        }\n        return result;\n    }\n    return rendering()\n}\n\nfunction Grass() {\n    let [result, setResult] = useState([]);\n\n    useEffect(() => {\n        // let userIdx = 5;\n        fetch(`https://inkyuoh.shop/userInfo`)\n            .then((res) => {\n                return res.json();\n            })\n            .then((res) => {\n                setResult(res.result);\n                // console.log(res.result);\n            });\n    }, []);\n\n    return (\n        <div className={styles.graph}>\n            <ul className={styles.squares}>\n                <GrassShow date={result} length={result.length}></GrassShow>\n            </ul>\n        </div>\n    );\n}\n\nconst GrassShow = (props) => {\n    let dispatch = useDispatch();\n\n    if (props.date.length != 0) {\n        const rendering = () => {\n            const result = Array();\n\n            for (let i = 1; i < 365; i++) {\n                if (props.date[0].commitGrass[i] !== \"0\") {\n                    result.push(<li key={i} date={subtractDays(-i+364, new Date())} data-level={1} onClick={() => {\n                        dispatch(toggleOnHistory());\n                        let day = subtractDays(-i+364, new Date());\n                        fetch(`https://inkyuoh.shop/commits/daily/date/${day}`)\n                        .then(res=>{\n                            return res.json()\n                        })\n                        .then(res=>{\n                            dispatch(changeCommitInfo(res.result));\n                        })\n                    }}></li>);\n                } else if (props.date[0].commitGrass[i] == \"0\") {\n                    result.push(<li key={i} date={subtractDays(-i+364, new Date())} onClick={()=>{\n                        dispatch(toggleOffHistory());\n                    }}></li>);\n                }\n            }\n            return result;\n        };\n        return rendering();\n    }\n};\n\nfunction subtractDays(numOfDays, date = new Date()) {\n    date.setDate(date.getDate() - numOfDays);\n    \n    const calculDate = date.getFullYear() + \"-\" + (date.getMonth()+1) + '-' + date.getDate()\n\n    return calculDate;\n};"],"names":["User","onOffHistory","useSelector","state","className","styles","UserProfile","Grass","CommitShow","src","Tr","useState","result","setResult","useEffect","fetch","then","res","json","catch","err","console","log","UserProfileShow","length","props","userPhoto","userName","userEmail","commitInfo","Array","i","push","bookName","commitMessage","createdAt","rendering","BookList","pdfName","recentlyReadPage","totalPage","updatedAt","GrassShow","date","dispatch","useDispatch","commitGrass","subtractDays","Date","onClick","toggleOnHistory","day","changeCommitInfo","toggleOffHistory","numOfDays","setDate","getDate","calculDate","getFullYear","getMonth"],"sourceRoot":""}